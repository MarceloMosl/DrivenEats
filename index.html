<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DrivenEats</title>
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stcript" href="script.js">
</head>

<body onclick="itensSelecionados()">
    <div class="all">
        <header>
            <h1>DrivenEats</h1>
            <h2>Sua comida em 6 minutos</h2>
        </header>
        <main>
            <h2 class="principal">Primeiro, seu prato</h2>
            <div class="meal" onclick="checarFrango()">

                <div onclick="selectedFrango(this)" class="select">
                    <img src="./Assets/frango_yin_yang 1.jpg" alt="">
                    <h2 class="nomedoPrato">Frango Yin Yang</h2>
                    <p>Um pouco de batata, um pouco de salada</p>
                    <p class="estilo-valor">R$<span class="vlr">14.90</span></p>
                    <ion-icon name="checkmark-circle"></ion-icon>
                </div>
                <div onclick="selectedFrango(this)" class="select">
                    <img width="144px" height="87px" src="./Assets/podrao.jpg" alt="">
                    <h2 class="nomedoPrato">Podrão de Osasco</h2>
                    <p>um pouco de tudo</p>
                    <p class="estilo-valor">R$<span class="vlr">15.00</span></p>
                    <ion-icon name="checkmark-circle"></ion-icon>
                </div>
                <div onclick="selectedFrango(this)" class="select">
                    <img width="144px" height="87px" src="./Assets/pastel-frango-com-catupiry.jpg" alt="">
                    <h2 class="nomedoPrato">Pastel de Flago </h2>
                    <p>Melhor com Caldo de cana</p>
                    <p class="estilo-valor">R$<span class="vlr">9.50</span></p>
                    <ion-icon name="checkmark-circle"></ion-icon>

                </div>
            </div>
            <h2 class="principal">Agora, sua bebida</h2>
    
            <div class="beverage" onclick="checarBebida()">

                <div class="select" onclick="selectedbebida(this)">
                    <img src="./Assets/coquinha_gelada 1.jpg" alt="">
                    <h2 class="nomedoPrato">Coquinha Gelada</h2>
                    <p>Lata 350ml</p>
                    <p class="estilo-valor">R$<span class="vlr">4.90</span></p>
                    <ion-icon name="checkmark-circle"></ion-icon>
                </div>

                <div class="select" onclick="selectedbebida(this)">
                    <img width="144px" height="87px" src="./Assets/fanta.jpg" alt="">
                    <h2 class="nomedoPrato">Fanta Gelada</h2>
                    <p>Lata 350ml</p>
                    <p class="estilo-valor">R$<span class="vlr">4.90</span></p>
                    <ion-icon name="checkmark-circle"></ion-icon>
                </div>
                <div class="select" onclick="selectedbebida(this)">
                    <img width="144px" height="87px" src="./Assets/Pepsi.jpg" alt="">
                    <h2 class="nomedoPrato">Pepsi Gelada</h2>
                    <p>Lata 350ml, pode ser Pespi?</p>
                    <p class="estilo-valor">R$<span class="vlr">4.90</span></p>
                    <ion-icon name="checkmark-circle"></ion-icon>
                </div>
            </div>


            <h2 class="principal">Por fim, sua sobremesa</h2>



            <div class="desert" onclick="checarSobremesa()">
                <div class=" select" onclick="selecteddesert(this)">
                    <img src="./Assets/pudim 1.jpg" alt="">
                    <h2 class="nomedoPrato">Pudim</h2>
                    <p>Apenas pudim</p>
                    <p class="estilo-valor">R$<span class="vlr">7.90</span></p>
                    <ion-icon name="checkmark-circle"></ion-icon>
                </div>

                <div class="select" onclick="selecteddesert(this)">
                    <img width="144px" height="87px" src="./Assets/Petit Gateau.jpeg" alt="">
                    <h2 class="nomedoPrato">Pettie Gatue</h2>
                    <p>Ana Maria com Sorvete</p>
                    <p class="estilo-valor">R$<span class="vlr">100.00</span></p>
                    <ion-icon name="checkmark-circle"></ion-icon>
                </div>

                <div class=" select" onclick="selecteddesert(this)">
                    <img width="144px" height="87px" src="./Assets/maca.jpeg" alt="">
                    <h2 class="nomedoPrato">Maça</h2>
                    <p class="estilo-valor">R$<span class="vlr">3.50</span></p>
                    <ion-icon name="checkmark-circle"></ion-icon>
                </div>

            </div>


        </main>
        <footer>
            <p id="p1">Selecione os 3 itens<br> para fechar o pedido</p>
            <div id="finalize" class="escondido" onclick="finalizar(), somaValores()">
                <p>Fechar Pedido</p>
            </div>
        </footer>
        <div id="display-confirmacao" class="escondido">
            <div id="send-order">
            <h1>Confirme seu pedido</h1>
            <div class="confirm-order">
                <div>
                    <p id="order1"> </p>
                    <p id="price1"></p>
                </div>
                <div>
                    <p id="order2"> </p>
                    <p id="price2"></p>
                </div>
                <div>
                    <p id="order3"> </p>
                    <p id="price3"></p>
                </div>
                <div class="totvs"><p>Total: </p>
                    <p>R$ <span id="vlrfinal"></span> </p></div>
            </div>
            <div class="footer-final" onclick="whatsapp()">
                <div onclick="whatsapp()" >
                    <p><p id="wpp">Tudo certo, pode pedir!</p></p>
                </div>
            </div >
            <div onclick="cancelar()"" class="cancelar" >Cancelar</div>
            </div>
        </div>

    </div>
    
    <p id="minhaString" ><br></p>

    <script>
        let choice1 = ""
        let choice2 = ""
        let choice3 = ""
        let price1 = ""
        let price2 = ""
        let price3 = ""

        let frangoselected = 0
        function selectedFrango(sel) {
            const frangosel = document.querySelector(".meal .selected");
            if (frangosel !== null) {
                frangosel.classList.remove("selected");
                frangoselected = -10
            }
            sel.classList.add("selected")
            frangoselected = 10
            choice1 = sel.querySelector(".nomedoPrato").innerHTML
            price1 = sel.querySelector(".vlr").innerHTML
        }
        let cocaselected = 0
        function selectedbebida(selbeb) {

            const cocasel = document.querySelector(".beverage .selected");

            if (cocasel !== null) {
                cocasel.classList.remove("selected");
                cocaselected = -10
            }
            selbeb.classList.add("selected")
            cocaselected = 10
            choice2 = selbeb.querySelector(".nomedoPrato").innerHTML
            price2 = selbeb.querySelector(".vlr").innerHTML
        }
        let pudimselected = 0
        function selecteddesert(seldes) {

            const pudimsel = document.querySelector(".desert .selected");

            if (pudimsel !== null) {
                pudimsel.classList.remove("selected");
                pudimselected = -10
            }
            seldes.classList.add("selected")
            pudimselected = 10
            choice3 = seldes.querySelector(".nomedoPrato").innerHTML
            price3 = seldes.querySelector(".vlr").innerHTML
        }

        let pratoPrincipal = 0
        let bebidaCoca = 0
        let sobremesaPudim = 0

        function checarFrango() {
            if (frangoselected == 10) {
                pratoPrincipal = 10
            } else {
                pratoPrincipal = -10
            }
        }
        function checarBebida() {
            if (cocaselected == 10) {
                bebidaCoca = 10
            }
            else {
                bebidaCoca = -10


            }
        }
        function checarSobremesa() {
            if (pudimselected == 10) {
                sobremesaPudim = 10
            } else {
                sobremesaPudim = -10
            }
        }

        function itensSelecionados() {
            const tst = document.getElementById("p1")
            const tst2 = document.getElementById("finalize")

            if (pratoPrincipal + bebidaCoca + sobremesaPudim == 30) {
                tst.classList.add("escondido")
                tst2.classList.remove("escondido")


            } else {
                tst2.classList.add("escondido")
                tst.classList.remove("escondido")

            }
        }

        function finalizar() {
            // opções
            document.getElementById("order1").innerHTML = (choice1)
            document.getElementById("order2").innerHTML = (choice2)
            document.getElementById("order3").innerHTML = (choice3)
            // valores 
            document.getElementById("price1").innerHTML = (price1)
            document.getElementById("price2").innerHTML = (price2)
            document.getElementById("price3").innerHTML = (price3)
            
        }
        let valorFinal1 = 0
        function somaValores(){
            document.getElementById("display-confirmacao").classList.remove ("escondido")
            // parseInt, parseFloat e Number() não funcionaram de jeito nenhuma, apesar que no console do navegador estava certo, entao fiz esse 'gato'
            price1++ 
            price1--
            price2++
            price2--
            price3++
            price3--
            valorFinal1 = price1 + price2 + price3
           
            document.getElementById("vlrfinal").innerHTML = (valorFinal1.toFixed(2))


        }
        function cancelar(){
            document.getElementById("display-confirmacao").classList.add ("escondido")
        }
        function whatsapp(){
            tst = `Olá, gostaria de fazer o pedido:
    - Prato: ${choice1}   
    - Bebida: ${choice2} 
    - Sobremesa: ${choice3}  
    Total: R$ ${valorFinal1.toFixed(2)}`


        window.open("https://wa.me/5511973610831?text="+ encodeURIComponent(tst))
        }
         
    </script>
    <script src="https://unpkg.com/ionicons@5.4.0/dist/ionicons.js"></script>
</body>

</html>